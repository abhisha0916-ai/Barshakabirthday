<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>#BARSHA KA BIRTHDAY üéâüéâ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Great+Vibes&family=Lobster&display=swap" rel="stylesheet">
<style>
body {
  margin:0;
  font-family: 'Lobster', cursive;
  background: url('https://raw.githubusercontent.com/abhisha0916-ai/Barshakabirthday/main/IMG_20250915_235318_695.jpg') no-repeat center center fixed;
  background-size: cover;
  text-align:center;
  overflow-x:hidden;
  overflow-y:hidden;
}
.container{
  position:relative;
  z-index:1;
  padding:40px 20px;
}
.card {
  background: rgba(255,255,255,0.15);
  border-radius: 25px;
  padding: 30px;
  max-width: 450px;
  margin: auto;
  box-shadow: 0 0 25px rgba(0,0,0,0.2);
}
#countdown{
  font-size:2rem;
  font-weight:bold;
  padding:15px;
  border-radius:15px;
  background: rgba(255,255,255,0.25);
  margin-top:20px;
  box-shadow:0 0 15px rgba(255,255,255,0.5);
  transition: opacity 4s;
}
#excitedText{
  font-family:'Great Vibes', cursive;
  font-size:1.6rem;
  font-weight:bold;
  color:#fff8c6;
  margin-top:10px;
  text-shadow:2px 2px 8px #ff69b4;
  transition: opacity 4s;
}
#birthdayMessage{
  font-family:'Pacifico', cursive;
  font-size:3rem;
  color:#ffeb3b;
  text-shadow:2px 2px 10px #ff1493;
  display:none;
  position:fixed;
  bottom:-200px;
  left:50%;
  transform:translateX(-50%);
  z-index:10;
}
.heart{
  position:absolute;
  width:20px;
  height:20px;
  background:red;
  transform:rotate(-45deg);
  animation:float 5s linear infinite;
  opacity:0.8;
  z-index:0;
}
.heart::before, .heart::after{
  content:"";
  position:absolute;
  width:20px;
  height:20px;
  background:red;
  border-radius:50%;
}
.heart::before{top:-10px; left:0;}
.heart::after{top:0; left:10px;}
@keyframes float{
  0%{transform:translateY(0) rotate(-45deg); opacity:0.8;}
  100%{transform:translateY(-700px) rotate(-45deg); opacity:0;}
}
.balloon{
  position:absolute;
  width:40px;
  height:60px;
  border-radius:20px;
  background: radial-gradient(circle at 50% 30%, #ff4f81, #ff9a9e);
  bottom:-80px;
  z-index:0;
  animation:rise 5s linear infinite;
}
.balloon::after{
  content:"";
  position:absolute;
  width:2px;
  height:40px;
  background:white;
  left:50%;
  transform:translateX(-50%);
  bottom:-40px;
}
@keyframes rise{
  0%{bottom:-80px;}
  100%{bottom:90vh;}
}
.lyrics{
  font-style:italic;
  line-height:1.5;
  margin-top:20px;
  text-align:center;
  font-size:1rem;
}
#surpriseBtn{display:none;}
#musicPermission{
  position:fixed;
  top:0; left:0; width:100%; height:100%;
  background:rgba(0,0,0,0.8);
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:1000;
  flex-direction:column;
}
#musicPermission button{
  font-size:1.5rem;
  padding:10px 20px;
  border-radius:10px;
  cursor:pointer;
}
</style>
</head>
<body>

<!-- Tap to play music overlay -->
<div id="musicPermission">
  <h2>Tap to start the birthday music üéµ</h2>
  <button id="startMusicBtn">Play Music</button>
</div>

<div class="container">
  <h1>#BARSHA KA BIRTHDAY üéâüéâ</h1>
  <div class="card">
    <div id="countdown">0d 0h 0m 0s</div>
    <div id="excitedText">Excited! Excited! Very very Excited!</div>
    <button id="surpriseBtn">Click for Surprise üéÅ</button>
    <div class="lyrics" id="lyricsDisplay">
      <!-- Lyrics will update here in real-time -->
    </div>
  </div>
</div>

<div id="birthdayMessage">üéâ Happy Birthday Barsha! üéâ</div>

<!-- MUSIC -->
<audio id="bgMusic" loop preload="auto">
  <source src="gutar.mp3" type="audio/mpeg">
</audio>

<script>
// Play music
document.getElementById("startMusicBtn").addEventListener("click", () => {
  const music = document.getElementById("bgMusic");
  music.volume = 0.9;
  music.play().catch(() => {});
  document.getElementById("musicPermission").style.display = "none";
});

// References
const countdown = document.getElementById('countdown');
const excitedText = document.getElementById('excitedText');
const birthdayMsg = document.getElementById('birthdayMessage');

// Set birthday date
const birthday = new Date(2025, 11, 31, 0, 0, 0).getTime();

// Countdown function
let countdownFunction = setInterval(() => {
  const now = new Date().getTime();
  let distance = birthday - now;

  const days = Math.max(0, Math.floor(distance / (1000*60*60*24)));
  const hours = Math.max(0, Math.floor((distance % (1000*60*60*24))/(1000*60*60)));
  const minutes = Math.max(0, Math.floor((distance % (1000*60*60))/(1000*60)));
  const seconds = Math.max(0, Math.floor((distance % (1000*60))/1000));

  countdown.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;

  if(distance <= 0){
    clearInterval(countdownFunction);
    fadeOutCountdown();
  }
}, 1000);

// Fade out countdown
function fadeOutCountdown(){
  let opacity = 1;
  const fadeInterval = setInterval(()=>{
    opacity -= 0.02;
    countdown.style.opacity = opacity;
    excitedText.style.opacity = opacity;
    if(opacity <= 0){
      clearInterval(fadeInterval);
      countdown.style.display = 'none';
      excitedText.style.display = 'none';
      showBirthdayMessage();
    }
  }, 50);
}

// Show birthday message + balloons & hearts
function showBirthdayMessage(){
  birthdayMsg.style.display = 'block';
  let bottom = -200;
  const riseInterval = setInterval(()=>{
    bottom += 4;
    birthdayMsg.style.bottom = bottom+'px';
    if(bottom >= window.innerHeight/2 - 50) clearInterval(riseInterval);
  }, 20);

  for(let i=0; i<20; i++) createBalloon();
  setInterval(createHeart, 300);
}

// Hearts
function createHeart(){
  const heart = document.createElement('div');
  heart.className='heart';
  heart.style.left = Math.random()*window.innerWidth+'px';
  heart.style.animationDuration = (3+Math.random()*3)+'s';
  document.body.appendChild(heart);
  setTimeout(()=>heart.remove(),5000);
}

// Balloons
function createBalloon(){
  const balloon = document.createElement('div');
  balloon.className='balloon';
  balloon.style.left = Math.random()*window.innerWidth+'px';
  balloon.style.animationDuration = (4+Math.random()*3)+'s';
  document.body.appendChild(balloon);
  setTimeout(()=>balloon.remove(),8000);
}

// TEST function: trigger birthday animation immediately
function testCountdownEnd(){
  clearInterval(countdownFunction);
  countdown.innerHTML = "0d 0h 0m 0s";
  fadeOutCountdown();
}

// Lyrics example
const lyricsDisplay = document.getElementById('lyricsDisplay');
const lyrics = [
  {time:0, text:"tere aas pass din sara"},
  {time:5, text:"tere aas pass din sara"},
  {time:10, text:"na jane kab me dil hara"},
  {time:15, text:"tune jana"},
  {time:20, text:"tune jana"}
];

let lyricsInterval;
document.getElementById('startMusicBtn').addEventListener('click', function(){
  let startTime = Date.now();
  lyricsInterval = setInterval(()=>{
    let elapsed = (Date.now() - startTime)/1000;
    let currentLine = '';
    for(let i=0;i<lyrics.length;i++){
      if(elapsed >= lyrics[i].time){
        currentLine = lyrics[i].text;
      }
    }
    lyricsDisplay.innerHTML = currentLine;
  },200);
});

// On page load after birthday
window.onload=function(){
  const now=new Date().getTime();
  if(now>=birthday){
    countdown.innerHTML="0d 0h 0m 0s";
    setTimeout(fadeOutCountdown,2000);
  }
}
</script>
</body>
</html>
